module Kangaru
  class Application
    include ApplicationPaths

    attr_reader name: String
    attr_reader dir: String
    attr_reader namespace: Module

    @config: Config

    def initialize: (name: String, dir: String, namespace: Module) -> void

    def config: -> Config

    def configure: { (Config) -> void } -> void

    def setup: -> void

    def run!: (Array[String]) -> void

    def self.from_callsite: (String callsite, namespace: Module) -> Application

    private

    attr_reader autoloader: Zeitwerk::Loader
  end
end
